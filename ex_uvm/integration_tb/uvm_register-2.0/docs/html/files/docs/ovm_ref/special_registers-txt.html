<html><head><title>Overview.</title><link rel="stylesheet" type="text/css" href="../../../styles/main.css"><script language=JavaScript src="../../../javascript/main.js"></script></head><body class="FramedContentPage" onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version Development Release 01-12-2008 (1.35 base) -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org --> 








 <!--TOP - START OF CONTENT-->
<div id=Content>


 <!--CONTENT index=0 -->
<div class="CSection"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="Overview" href="../../../../uvm_ref/special_registers.txt">Overview.</a></h1><div class=CBody><p>Special registers are registers that have different characteristics than those provided by default in the UVM register base class.</p><p>A general technique to implement special functionality is to extend the base class, and modify the virtual functions that affect behavior.</p><p>An example of a special register might be a register that clears to zero after being read 3 times.&nbsp; Out-of-the-box, the base class library supports a clear-on-read register, but it doesn&rsquo;t have a built in &ldquo;counter&rdquo; to keep track of number of times read.</p><p>In this case, the functionality can be supported easily by extending the built-in uvm_register base class, and overriding the virtual function &lsquo;read_without_notify()&rsquo; to achieve the desired behavior.</p><p>Included below is the complete implementation for such a special register.&nbsp; Using this technique, it is possible to build any number of special base classes that each implement special functionality.&nbsp; This particular register implementation is not that interesting, expect for people who erase their data after three reads.</p><blockquote><pre>class my_c3_register #(type T = int)
    extends uvm_register #(T);
  int counter;

  function new(string name, uvm_component p,
      bit32_t resetVal = 0);
    super.new(name, p, resetVal);
    counter = 0;
  endfunction

   virtual function T read_without_notify(T local_mask = '1);
     T val = super.read_without_notify(local_mask);
     if (counter++ &gt;= 3) begin
       poke(0);
       val = super.read_without_notify(local_mask);
       counter = 0;
     end
     return val;
   endfunction

   virtual function void reset();
     super.reset();
     counter = 0;
   endfunction
 endclass</pre></blockquote></div></div></div>

</div><!--Content-->



<!--START_ND_TOOLTIPS-->
<!--END_ND_TOOLTIPS-->

<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>